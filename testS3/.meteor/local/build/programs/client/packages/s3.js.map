)]}'
{"version":3,"file":"/packages/s3.js","sources":["s3/client/blocks.html","s3/client/events.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,uC;AACA,kB;AACA,sB;AACA,oE;AACA,8B;AACA,M;AACA,I;;;;;;;;;;;;;;;;;;;ACPA,oB;AACA,iD;AACA,2B;;AAEA,mD;AACA,uC;AACA,U;AACA,0E;AACA,S;AACA,G;;AAEA,oC;AACA,8B;AACA,+B;AACA,mB;AACA,mB;AACA,mB;AACA,kB;AACA,K;;AAEA,gC;AACA,kD;AACA,sD;AACA,K;;AAEA,kC;;AAEA,K;AACA,E;AACA,G","sourcesContent":["\nTemplate.__define__(\"S3\", (function() {\n  var self = this;\n  var template = this;\n  return UI.InTemplateScope(template, Spacebars.include(function() {\n    return template.__content;\n  }));\n}));\n","Template.S3.events({\n\t'change input[type=file]': function (e,helper) {\n\t\tvar context = this || {};\n\n\t\tif(helper.data && _.has(helper.data,\"callback\")){\n\t\t\tvar callback = helper.data.callback;\n\t\t} else {\n\t\t\tconsole.log(\"S3 Error: Helper Block needs a callback function to run\");\n\t\t\treturn\n\t\t}\n\n\t\tvar files = e.currentTarget.files;\n\t\t_.each(files,function(file){\n\t\t\tvar reader = new FileReader;\n\t\t\tvar fileData = {\n\t\t\t\tname:file.name,\n\t\t\t\tsize:file.size,\n\t\t\t\ttype:file.type\n\t\t\t};\n\n\t\t\treader.onload = function () {\n\t\t\t\tfileData.data = new Uint8Array(reader.result);\n\t\t\t\tMeteor.call(\"S3upload\",fileData,context,callback);\n\t\t\t};\n\n\t\t\treader.readAsArrayBuffer(file);\n\n\t\t});\n\t}\n});"]}